# SSH daemon configuration for Claude Development Environment

# Disable root login
PermitRootLogin no

# Disable password authentication (key-only)
PasswordAuthentication no

# Enable public key authentication
PubkeyAuthentication yes

# Keep connections alive
ClientAliveInterval 60
ClientAliveCountMax 3

# Use port 2222 to avoid conflicts with Fly.io's hallpass service on port 22
Port 2222

# Logging
SyslogFacility AUTH
LogLevel INFO

# Authentication settings
LoginGraceTime 120
StrictModes yes
MaxAuthTries 6
MaxSessions 10

# Subsystem for SFTP
Subsystem sftp /usr/lib/openssh/sftp-server

# Allow only developer user
AllowUsers developer