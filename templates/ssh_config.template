# SSH Configuration Template for Claude Development Environment
# Add this to your ~/.ssh/config file

# Replace the following placeholders:
# [APP_NAME] - Your Fly.io application name
# [SSH_KEY_PATH] - Path to your SSH PRIVATE key (NOT the .pub file)

# IMPORTANT: Common SSH Configuration Mistakes to Avoid:
# ❌ IdentityFile ~/.ssh/id_rsa.pub    (WRONG - this is the public key)
# ✅ IdentityFile ~/.ssh/id_rsa        (CORRECT - this is the private key)
#
# Before using this config:
# 1. Ensure your SSH key permissions are correct:
#    chmod 600 ~/.ssh/id_rsa      (private key: owner read/write only)
#    chmod 644 ~/.ssh/id_rsa.pub  (public key: readable by others)
# 2. Replace [APP_NAME] and [SSH_KEY_PATH] with your actual values
# 3. Test the connection: ssh [APP_NAME]

Host [APP_NAME]
    HostName [APP_NAME].fly.dev
    Port 10022
    User developer
    IdentityFile [SSH_KEY_PATH]    # Path to PRIVATE key (no .pub extension)
    ServerAliveInterval 60
    ServerAliveCountMax 3
    StrictHostKeyChecking accept-new
    LogLevel ERROR

# Alternative short name for convenience
Host claude-dev
    HostName [APP_NAME].fly.dev
    Port 10022
    User developer
    IdentityFile [SSH_KEY_PATH]
    ServerAliveInterval 60
    ServerAliveCountMax 3
    StrictHostKeyChecking accept-new
    LogLevel ERROR

# For multiple environments (if you have staging/production)
Host [APP_NAME]-staging
    HostName [APP_NAME]-staging.fly.dev
    Port 10022
    User developer
    IdentityFile [SSH_KEY_PATH]
    ServerAliveInterval 60
    ServerAliveCountMax 3
    StrictHostKeyChecking accept-new
    LogLevel ERROR

Host [APP_NAME]-prod
    HostName [APP_NAME]-prod.fly.dev
    Port 10022
    User developer
    IdentityFile [SSH_KEY_PATH]
    ServerAliveInterval 60
    ServerAliveCountMax 3
    StrictHostKeyChecking accept-new
    LogLevel ERROR

# Global SSH settings for all Fly.io hosts
Host *.fly.dev
    ServerAliveInterval 60
    ServerAliveCountMax 3
    TCPKeepAlive yes
    Compression yes
    LogLevel ERROR

# Configuration explanations:
#
# HostName: The full domain name of your Fly.io app
# Port: Non-standard SSH port for better security
# User: The user account created in the Docker container
# IdentityFile: Path to your SSH private key
# ServerAliveInterval: Send keepalive messages every 60 seconds
# ServerAliveCountMax: Allow 3 failed keepalive messages
# StrictHostKeyChecking: Accept new host keys automatically
# LogLevel: Reduce SSH verbosity
# TCPKeepAlive: Keep TCP connection alive
# Compression: Enable SSH compression for better performance over slow connections